import{d as h,r as d,j as T,_ as w,b as g,o as c,c as p,e as l,f as $,w as b,k as B,F as Q,l as M,h as f,g as L,i as q,t as C,a as N,u as S}from"./index-8POekDYm.js";const A="/mindmania/assets/hard-B9KlRfA3.svg",D="/mindmania/assets/medium-DbOFm8MH.svg",H="/mindmania/assets/easy-DqBU9FZt.svg",V="/mindmania/assets/animals-DLu9MkLQ.svg",j="/mindmania/assets/art-BHx_Ifmo.svg",E="/mindmania/assets/boardgames-C1eljAgh.svg",O="/mindmania/assets/books-CyedysqU.svg",R="/mindmania/assets/cartoon-DtDcO0Qi.svg",Z="/mindmania/assets/celebrities-CZdSPy6n.svg",F="/mindmania/assets/comics-2o6EHYZm.svg",G="/mindmania/assets/film-DzjQGvJl.svg",K="/mindmania/assets/gadgets-BfosbXHE.svg",z="/mindmania/assets/knowledge-CC66sQ7X.svg",P="/mindmania/assets/geography-Bcd8A9vE.svg",U="/mindmania/assets/history-CanefkKy.svg",X="/mindmania/assets/manga-BMwMQghj.svg",J="/mindmania/assets/mathematics-BOLxB9fo.svg",Y="/mindmania/assets/music-C0M-ezfa.svg",W="/mindmania/assets/mythology-9IuZ67vB.svg",x="/mindmania/assets/nature-CoLeeNax.svg",ee="/mindmania/assets/computers-Cfij1cyO.svg",se="/mindmania/assets/politics-M-fBZZ4y.svg",oe="/mindmania/assets/sports-Bj-X8wG2.svg",ne="/mindmania/assets/theatre-V8S4MKks.svg",te="/mindmania/assets/television-CZU12U0o.svg",re="/mindmania/assets/vehicles-Dso6Er58.svg",ie="/mindmania/assets/videogames-Cgp_oiiy.svg",ce=h({name:"CardItem",props:{question:{type:Object,default:()=>{}},isTransitioning:{type:Boolean,default:!1}},setup(e,{emit:n}){const t=d(""),u=s=>s==="hard"?A:s==="medium"?D:H,r=s=>s.toLowerCase().includes("general")?z:s.toLowerCase().includes("film")?G:s.toLowerCase().includes("books")?O:s.toLowerCase().includes("theatres")?ne:s.toLowerCase().includes("music")?Y:s.toLowerCase().includes("television")?te:s.toLowerCase().includes("video")?ie:s.toLowerCase().includes("board")?E:s.toLowerCase().includes("nature")?x:s.toLowerCase().includes("computers")?ee:s.toLowerCase().includes("mathematics")?J:s.toLowerCase().includes("mythology")?W:s.toLowerCase().includes("sports")?oe:s.toLowerCase().includes("geography")?P:s.toLowerCase().includes("history")?U:s.toLowerCase().includes("politics")?se:s.toLowerCase().includes("celeb")?Z:s.toLowerCase().includes("animals")?V:s.toLowerCase().includes("vehicles")?re:s.toLowerCase().includes("comics")?F:s.toLowerCase().includes("gadgets")?K:s.toLowerCase().includes("manga")?X:s.toLowerCase().includes("cartoon")?R:s.toLowerCase().includes("art")?j:z,i=s=>{if(t.value=s.toLowerCase(),s.toLowerCase()===e.question.correct_answer.toLowerCase()){n("next",s,!0);return}n("next",s)},a=s=>{console.log("DATA",s),console.log("SEL",t.value);const o=s.toLowerCase();return e.isTransitioning&&o===e.question.correct_answer.toLowerCase()?"green":e.isTransitioning&&t.value===o&&o!==e.question.correct_answer.toLowerCase()?"red":"gray"},m=T(()=>{console.log("options",e);const s=[...e.question.incorrect_answers];s.push(e.question.correct_answer);for(let o=s.length-1;o>0;o--){const _=Math.floor(Math.random()*(o+1));[s[o],s[_]]=[s[_],s[o]]}return s});return{getCategory:r,getColor:a,getIcon:u,options:m,handleClick:i}}}),ae={class:"card-item"},le=["src"],ue=["src"],me=["innerHTML"],de={key:0,class:"card-item__buttons"},pe={key:1,class:"loader"};function ge(e,n,t,u,r,i){const a=g("v-btn"),m=g("v-progress-linear"),s=g("v-card");return c(),p("div",ae,[l("img",{class:"card-item__category",src:e.getCategory(e.question.category)},null,8,le),$(s,null,{default:b(()=>[B(e.$slots,"append",{},()=>[l("img",{class:"card-item__icon",src:e.getIcon(e.question.difficulty)},null,8,ue)],!0),l("p",{class:"card-item__text",innerHTML:e.question.question},null,8,me),e.options?(c(),p("div",de,[(c(!0),p(Q,null,M(e.options,o=>(c(),L(a,{key:o,variant:"outlined",color:e.getColor(o),disabled:e.isTransitioning,onClick:_=>e.handleClick(o)},{default:b(()=>[q(C(o),1)]),_:2},1032,["color","disabled","onClick"]))),128))])):f("",!0),e.isTransitioning?(c(),p("div",pe,[$(m,{color:"teal",indeterminate:""})])):f("",!0)]),_:3})])}const _e=w(ce,[["render",ge],["__scopeId","data-v-b9797b14"]]),fe=h({name:"ScoreComp",props:{correct:{type:Number,default:null},total:{type:Number,default:null}}}),Ce={class:"score"},ve={class:"score-number score--correct"},he={class:"score-number score--total"};function we(e,n,t,u,r,i){return c(),p("div",Ce,[l("p",ve,C(e.correct),1),n[0]||(n[0]=q(" / ")),l("p",he,C(e.total),1)])}const ye=w(fe,[["render",we],["__scopeId","data-v-13147c63"]]),Ie=h({name:"QuizContainer",components:{CardItem:_e,Score:ye},props:{category:{type:String,default:""},quiz:{type:Array,default:()=>[]}},setup(e,{emit:n}){const t=d(0),u=d([]),r=d(0),i=d(!1);return{correctAnswers:t,currentQuestionIndex:r,isTransitioning:i,next:(m,s=!1)=>{i.value=!0,u.value.push(m),setTimeout(()=>{r.value++,s&&t.value++,r.value===e.quiz.length&&n("complete",t.value),i.value=!1},2e3)}}}}),$e={class:"quiz-container"},Le={class:"quiz-container__title section-title"},be={key:0,class:"quiz-container__list"};function qe(e,n,t,u,r,i){const a=g("CardItem"),m=g("Score");return c(),p("div",$e,[l("p",Le,C(e.category),1),e.quiz?(c(),p("div",be,[e.currentQuestionIndex<e.quiz.length?(c(),L(a,{key:0,question:e.quiz[e.currentQuestionIndex],"is-transitioning":e.isTransitioning,onNext:e.next},null,8,["question","is-transitioning","onNext"])):f("",!0),$(m,{correct:e.correctAnswers,total:e.quiz.length},null,8,["correct","total"])])):f("",!0)])}const ze=w(Ie,[["render",qe],["__scopeId","data-v-af2eb773"]]),ke="/mindmania/assets/success-CIjl2OKQ.svg",Te=h({name:"CompletedItem",props:{correct:{type:Number,required:!0},total:{type:Number,required:!0}},setup(){return{SuccessIcon:ke,goHome:()=>{N.push({name:"home"})}}}}),Be={class:"completed-score"},Qe={class:"completed-score__wrapper"},Me=["src"],Ne={class:"completed-score__content"},Se={class:"completed-score__text completed-number"},Ae={class:"completed-score__text completed-number"};function De(e,n,t,u,r,i){const a=g("v-btn");return c(),p("div",Be,[l("div",Qe,[l("img",{src:e.SuccessIcon,class:"completed-score__image"},null,8,Me),l("div",Ne,[l("span",Se,C(e.correct),1),n[0]||(n[0]=l("span",{class:"completed-score__text--default"}," out of ",-1)),l("span",Ae,C(e.total),1)]),$(a,{onClick:e.goHome},{default:b(()=>n[1]||(n[1]=[q("Go back")])),_:1},8,["onClick"])])])}const He=w(Te,[["render",De],["__scopeId","data-v-605879b6"]]),Ve=h({name:"QuizView",components:{QuizContainer:ze,CompletedItem:He},setup(){const e=S(),n=d([]),t=d(""),u=d([]),r=d(0),i=d(!1),a=()=>{const o="%20",v=e.path.split("%2F"),y=v.length,I=v[y-1].replace(new RegExp(o,"g")," ");t.value=I},m=o=>{r.value=o,i.value=!0};return(async()=>{a();const o=typeof e.params.id=="string"?e.params.id.split("/")[0]:"";console.log("ID",o);const _=`https://opentdb.com/api.php?amount=10&category=${o}`;try{const y=await(await fetch(_,{method:"POST"})).json(),I=[];y.results.map(k=>I.push(k.correct_answer)),n.value=I,u.value=y.results}catch(v){console.log("ERROR",v)}})(),{categoryName:t,quiz:u,showTotalComponent:i,userTotalCorrect:r,handleComplete:m}}});function je(e,n,t,u,r,i){const a=g("QuizContainer"),m=g("CompletedItem");return c(),p("main",null,[!e.showTotalComponent&&e.quiz?(c(),L(a,{key:0,category:e.categoryName,quiz:e.quiz,onComplete:e.handleComplete},null,8,["category","quiz","onComplete"])):f("",!0),e.showTotalComponent&&e.quiz?(c(),L(m,{key:1,total:e.quiz.length,correct:e.userTotalCorrect},null,8,["total","correct"])):f("",!0)])}const Oe=w(Ve,[["render",je]]);export{Oe as default};
